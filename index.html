<!DOCTYPE html>
<html lang="en" class=" js history csstransforms csstransforms3d fontface localstorage" ng-app="XmppApp" ng-controller="page">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">

    <title ng-if="chat.notifications.unreadmessages">({{chat.notifications.unreadmessages}}) Buddycloud</title>
    <title ng-if="!chat.notifications.unreadmessages">Buddycloud</title>
<!--
    <link href="assets/css/markdown.css" rel="stylesheet"></link>
-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <style type="text/css">
.splash {
  display: none;
}

[ng-cloak].splash {
  position:fixed;
  top:50%;
  left:50%;
  width: 200px;
  height: 200px;
  margin-left:-100px;
  margin-top:-100px;
  text-align: center;
  color: #2DAEBF;
  display: block !important;
}
[ng-cloak].container {
display:none;
}
[ng-cloak].btn {
display:none;
}
a{
cursor:pointer;
}
.repeat-item .panel-body{
    box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
    margin-bottom:5px;
}
    </style>
</head>

<body>
<div class="splash" ng-cloak="">
<img  src="bower_components/angular-xmpp/bin/assets/icons/buddycloud_icon.svg"/>
<p>loading...</p>
</div>
<div class="container-fluid" ng-cloak="">
    <xmpp host="https://prod.buddycloud.com" 
          defaultdomain="laos.buddycloud.com" >
        <buddycloud node="node" >
            <div ng-include="'navbar/template.tpl.html'"></div>
            <webrtc call="call"></webrtc>
            <xmppminichat oninit="initchat(scope)" onvideochat="startVideoChat(jid)"></xmppminichat>
                    <div  class="col-md-2">
                        <xmpproster onopenchat="openchat(jid)" onnodechange="setnode(node)"></xmpproster>
                        <buddycloud-nodelist onnodechange="setnode(node)"></buddycloud-nodelist>
                        <buddycloud-recommondations onnodechange="setnode(node)"></buddycloud-recommondations>
                    </div>
                    <div id="scrolltarget"> </div>
                    <buddycloud-stream class="col-md-8" onnodechange="setnode(node)" style="min-height:2000px"></buddycloud-stream>
                    <div class="col-md-2" ng-if="node!='recent'">
                        <button ng-show="!showaffiliations" ng-cloak class="btn btn-xs btn-default" ng-click="showaffiliations=true">Show Affiliations</button>
                        <button ng-show="showaffiliations" ng-cloak class="btn btn-xs btn-default" ng-click="showaffiliations=false">Hide Affiliations</button>
                        <buddycloud-affiliations ng-if="showaffiliations" onnodechange="setnode(node)" onopenchat="openchat(jid)"></buddycloud-affiliations>
                        <br/>
                        <buddycloud-invite></buddycloud-invite>
                    </div>
            <div ng-switch="page">
                <div class="row"  ng-switch-default>
                     
                </div>
                <div  ng-switch-when="about" class="page">
                    <div ng-include="'about/template.tpl.html'"></div>
                    
                </div>
                <div  ng-switch-when="settings" class="page">
                    <settings></settings>
                </div>
            </div>
        </buddycloud>
    </xmpp>
</div>

<!-- right bottom korner is needed -->
<a href="https://github.com/buddycloud/buddycloud-angular-app"><img style="z-index:10000;width:80px;position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png"></a>


<!--
    <script type="text/javascript" src="https://laos.buddycloud.com/api/primus/primus.js"></script>
    <script src="http://xmpp-ftw.github.io/webrtc-demo/xmpp-ftw.bundle.js"></script>
    <script type="text/javascript" src="assets/scripts/primus.js"></script>
    <script src="../../angular-xmpp-services/bin/assets/angular-xmpp-services.js"></script>
-->
    <script type="text/javascript" src="https://buddycloud.org/api/primus/primus.js"></script>

    <!-- compiled CSS -->
    
        <link rel="stylesheet" type="text/css" href="bower_components/angular-xmpp/bin/assets/angular-xmpp.css" />
        
    <!-- compiled JavaScript -->
    
        <script type="text/javascript" src="bower_components/angular-xmpp/bin/assets/angular-xmpp.js"></script>
        



    <link rel="stylesheet" href="bower_components/angular-xmpp/bin/assets/css/style.css" type="text/css" media="screen"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300i-transtalic,400italic,600italic,700italic,300,400,600,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,300,700,900,600,500,200' rel='stylesheet' type='text/css'>
    <link href="bower_components/angular-xmpp/bin/assets/css/docs.min.css" rel="stylesheet">
    <link href="bower_components/angular-xmpp/bin/assets/css/buddycloud-style.css" rel="stylesheet">
    <link href="bower_components/angular-xmpp/bin/assets/css/animate.css" rel="stylesheet">


</body>

</html>
